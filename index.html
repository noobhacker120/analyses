<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Noob Hacker – Pattern Bias Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
 margin:0;
 font-family:system-ui,-apple-system;
 background:radial-gradient(circle at top,#1b2a40,#050712 70%);
 color:#eaf1ff;
}
header{
 padding:14px;
 border-bottom:1px solid rgba(255,255,255,.08)
}
.title{font-size:18px;font-weight:600;margin-bottom:8px}
.topbar{
 display:flex;
 flex-wrap:wrap;
 gap:10px;
 justify-content:space-between;
 align-items:center
}
select,button{
 background:#0d1a33;
 color:#fff;
 border:1px solid #2f4b8f;
 border-radius:8px;
 padding:6px 12px;
 cursor:pointer
}
.container{
 padding:14px;
 display:grid;
 gap:14px
}
.card{
 background:rgba(255,255,255,.06);
 border-radius:14px;
 padding:14px
}
h3{margin:0 0 10px;font-size:15px}
.row{
 display:flex;
 justify-content:space-between;
 margin:6px 0;
 font-size:14px
}
.bar{
 height:8px;
 background:#222;
 border-radius:6px;
 overflow:hidden
}
.fill{height:100%;background:#4fa3ff}
.green{color:#4dff88}
.red{color:#ff5252}
.orange{color:#ffb74d}

.biasBox{
 text-align:center;
 font-size:18px;
 font-weight:700
}

.history{
 display:grid;
 gap:6px;
 font-size:13px
}
.hist{
 background:rgba(0,0,0,.25);
 padding:6px 8px;
 border-radius:6px;
 display:flex;
 justify-content:space-between
}

footer{
 text-align:center;
 font-size:12px;
 opacity:.6;
 margin:12px
}
</style>
</head>

<body>

<header>
 <div class="title">Noob Hacker – Pattern Bias Dashboard</div>
 <div class="topbar">
  <select id="market">
   <option value="30">30 Second</option>
   <option value="60">1 Minute</option>
  </select>
  <button onclick="manualRefresh()">Refresh</button>
  <div id="timer">--</div>
 </div>
</header>

<div class="container">

 <div class="card">
  <h3>Running Period</h3>
  <div class="row">
   <span>Current</span>
   <span id="period">--</span>
  </div>
 </div>

 <div class="card">
  <h3>Big / Small Bias</h3>
  <div id="bigSmallBias" class="biasBox">--</div>
 </div>

 <div class="card">
  <h3>Green / Red Bias</h3>
  <div id="colorBias" class="biasBox">--</div>
 </div>

 <div class="card">
  <h3>Prediction vs Actual (Last 10)</h3>
  <div id="pvA" class="history">--</div>
 </div>

</div>

<footer>
Pattern-based bias • Uses last 500 history • Credit: Noob Hacker
</footer>

<script>
const API_30="https://draw.ar-lottery01.com/WinGo/WinGo_30S/GetHistoryIssuePage.json";
const API_60="https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json";
const PROXY="https://signal.chat31525.workers.dev/?url=";

let lastPrediction=[];

function manualRefresh(){loadData()}

async function loadData(){
 const sec=document.getElementById("market").value;
 const API=sec==="30"?API_30:API_60;
 const url=PROXY+encodeURIComponent(API+"?pageSize=500&pageNo=1");

 try{
  const r=await fetch(url);
  const j=await r.json();
  const list=j.data.list;

  document.getElementById("period").textContent=
   (BigInt(list[0].issueNumber)+1n).toString();

  analyse(list);
  startTimer(sec);
 }catch{
  alert("API / Proxy issue");
 }
}

function startTimer(sec){
 const now=Date.now();
 const base=sec*1000;
 let remain=base-(now%base);
 updateTimer(remain);
 setInterval(()=>{
  remain-=1000;
  updateTimer(remain);
 },1000);
}

function updateTimer(ms){
 document.getElementById("timer").textContent=
  "Remaining: "+Math.max(0,Math.floor(ms/1000))+"s";
}

function analyse(list){
 let bsFlip=0, cFlip=0;
 let bsTrend=0, cTrend=0;

 for(let i=1;i<list.length;i++){
  const a=+list[i-1].number>=5;
  const b=+list[i].number>=5;
  a!==b?bsFlip++:bsTrend++;

  const ca=list[i-1].color.includes("green");
  const cb=list[i].color.includes("green");
  ca!==cb?cFlip++:cTrend++;
 }

 const bsBias = bsTrend/(bsTrend+bsFlip)*100;
 const cBias  = cTrend /(cTrend +cFlip )*100;

 renderBias("bigSmallBias","Big",bsBias,"Small",100-bsBias,bsFlip);
 renderBias("colorBias","Green",cBias,"Red",100-cBias,cFlip);

 renderPvA(list);
}

function renderBias(id,a,ap,b,bp,flip){
 document.getElementById(id).innerHTML=
  `<div>${a} <span class="green">${ap.toFixed(1)}%</span> | 
   ${b} <span class="red">${bp.toFixed(1)}%</span></div>
   <div class="orange">Flip chance: ${(flip/(flip+10)*100).toFixed(1)}%</div>`;
}

function renderPvA(list){
 const box=document.getElementById("pvA");
 box.innerHTML="";
 for(let i=0;i<10;i++){
  const n=+list[i].number;
  const actual=n>=5?"Big":"Small";
  const pred= lastPrediction[i] || "—";
  const ok=pred===actual?"MATCH":"MISS";
  box.innerHTML+=
   `<div class="hist">
     <span>${list[i].issueNumber.slice(-4)}</span>
     <span>Pred: ${pred} | Act: ${actual} | ${ok}</span>
    </div>`;
 }
}

loadData();
</script>

</body>
</html>
